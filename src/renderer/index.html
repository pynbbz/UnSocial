<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UnSocial</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <div class="header-left">
        <a class="logo-link" id="logo-link" href="#" title="Visit UnSocial on GitHub">
          <svg class="logo-icon" viewBox="0 0 24 24" width="28" height="28">
            <path fill="currentColor" d="M6.18 15.64a2.18 2.18 0 1 1 0 4.36 2.18 2.18 0 0 1 0-4.36M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z"/>
          </svg>
          <h1>UnSocial</h1>
        </a>
      </div>
      <div class="header-right login-bar">
        <!-- Instagram -->
        <div class="platform-login" id="ig-login-group">
          <div id="ig-login-status" class="status-badge offline platform-clickable" title="Click to login / logout Instagram">
            <span class="status-dot"></span>
            <span class="status-text">Instagram</span>
          </div>
        </div>
        <!-- Twitter / X -->
        <div class="platform-login" id="tw-login-group">
          <div id="tw-login-status" class="status-badge offline platform-clickable" title="Click to login / logout Twitter">
            <span class="status-dot"></span>
            <span class="status-text">Twitter / X</span>
          </div>
        </div>
        <!-- Facebook -->
        <div class="platform-login" id="fb-login-group">
          <div id="fb-login-status" class="status-badge offline platform-clickable" title="Click to login / logout Facebook">
            <span class="status-dot"></span>
            <span class="status-text">Facebook</span>
          </div>
        </div>
        <!-- LinkedIn -->
        <div class="platform-login" id="li-login-group">
          <div id="li-login-status" class="status-badge offline platform-clickable" title="Click to login / logout LinkedIn">
            <span class="status-dot"></span>
            <span class="status-text">LinkedIn</span>
          </div>
        </div>
        <!-- Notification Bell (rightmost) -->
        <div class="notification-wrapper" id="notification-wrapper">
          <button class="btn-bell" id="btn-bell" title="Notifications">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
            </svg>
            <span class="bell-badge" id="bell-badge" style="display:none;">0</span>
          </button>
          <div class="notification-panel" id="notification-panel" style="display:none;">
            <div class="notif-panel-header">
              <span class="notif-panel-title">Notifications</span>
              <button class="btn-notif-clear" id="btn-notif-clear" title="Clear all">Clear</button>
            </div>
            <div class="notif-panel-list" id="notif-panel-list">
              <div class="notif-empty">No notifications</div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Add Feed Section -->
    <section class="add-section">
      <div class="add-form">
        <input
          type="text"
          id="input-url"
          placeholder="Enter Instagram, Twitter/X, Facebook, or LinkedIn URL‚Ä¶"
          autocomplete="off"
        />
        <button id="btn-add" class="btn btn-primary">
          <span class="btn-text">+ Add Feed</span>
          <span class="btn-spinner" style="display:none;">‚è≥</span>
        </button>
      </div>
      <p id="add-error" class="error-text"></p>
    </section>

    <!-- Actions Bar -->
    <section class="actions-bar">
      <span class="feed-count" id="feed-count">0 feeds</span>
      <div class="actions-right">
        <button id="btn-blur-toggle" class="btn btn-outline" title="Blur / reveal public URLs">
          üôà Blur URLs
        </button>
        <button id="btn-refresh-all" class="btn btn-outline" title="Refresh all feeds">
          üîÑ Refresh All
        </button>
        <button id="btn-copy-opml" class="btn btn-outline" title="Export OPML files">
          üì• Export
        </button>
      </div>
    </section>

    <!-- Tunnel Panel -->
    <section class="tunnel-panel" id="tunnel-panel">
      <div class="tunnel-header">
        <div class="tunnel-title">
          <span class="tunnel-icon">üåê</span>
          <strong>Public Access</strong>
          <div id="tunnel-status-badge" class="status-badge offline">
            <span class="status-dot"></span>
            <span class="status-text" id="tunnel-status-text">Stopped</span>
          </div>
        </div>
        <div class="tunnel-controls">
          <button id="btn-tunnel-setup" class="btn btn-outline btn-sm" title="Setup wizard">‚öôÔ∏è Setup</button>
          <button id="btn-tunnel-toggle" class="btn btn-primary btn-sm">‚ñ∂ Start Tunnel</button>
        </div>
      </div>

      <!-- Setup Wizard (hidden by default) -->
      <div id="tunnel-setup-wizard" class="tunnel-wizard" style="display:none;">
        <!-- Domain & Tunnel Name Settings -->
        <div class="wizard-step wizard-settings-step">
          <span class="step-num">‚öô</span>
          <div class="step-content">
            <div class="step-title">Tunnel Settings</div>
            <div class="tunnel-settings-row">
              <label class="tunnel-setting-label" for="tunnel-domain-input">Domain</label>
              <input type="text" id="tunnel-domain-input" class="tunnel-setting-input" placeholder="example.com" autocomplete="off" />
            </div>
            <div class="tunnel-settings-row">
              <label class="tunnel-setting-label" for="tunnel-name-input">Tunnel Name</label>
              <input type="text" id="tunnel-name-input" class="tunnel-setting-input" placeholder="unsocial-tunnel" autocomplete="off" />
            </div>
            <button class="btn btn-primary btn-sm" id="btn-save-tunnel-settings">Save</button>
          </div>
        </div>

        <div class="wizard-step" id="wizard-step-install">
          <span class="step-num">1</span>
          <div class="step-content">
            <div class="step-title">Install cloudflared</div>
            <div class="step-desc">Download from <a id="link-cloudflared" href="#">cloudflare.com</a> &amp; add to PATH</div>
            <span class="step-status" id="step-install-status">checking‚Ä¶</span>
          </div>
        </div>
        <div class="wizard-step" id="wizard-step-login">
          <span class="step-num">2</span>
          <div class="step-content">
            <div class="step-title">Authenticate with Cloudflare</div>
            <div class="step-desc">Opens a browser to authorize your account</div>
            <button class="btn btn-outline btn-sm" id="btn-cf-login">Run Login</button>
            <span class="step-status" id="step-login-status"></span>
          </div>
        </div>
        <div class="wizard-step" id="wizard-step-create">
          <span class="step-num">3</span>
          <div class="step-content">
            <div class="step-title">Create tunnel</div>
            <div class="step-desc">Creates tunnel named "<span id="wizard-tunnel-name">unsocial-tunnel</span>"</div>
            <button class="btn btn-outline btn-sm" id="btn-cf-create">Create Tunnel</button>
            <span class="step-status" id="step-create-status"></span>
          </div>
        </div>
        <div class="wizard-step" id="wizard-step-dns">
          <span class="step-num">4</span>
          <div class="step-content">
            <div class="step-title">Route DNS</div>
            <div class="step-desc">Points <code id="wizard-domain">your-domain</code> ‚Üí this tunnel</div>
            <button class="btn btn-outline btn-sm" id="btn-cf-dns">Route DNS</button>
            <span class="step-status" id="step-dns-status"></span>
          </div>
        </div>
      </div>

      <!-- Tunnel URLs (always visible) -->
      <div id="tunnel-urls" class="tunnel-urls"></div>
    </section>

    <!-- Feeds List -->
    <section class="feeds-section">
      <div id="feeds-list" class="feeds-list">
        <div class="empty-state" id="empty-state">
          <div class="empty-icon">üì°</div>
          <p>No feeds yet.</p>
          <p class="subtle">Login to a platform, then add a profile URL above.</p>
        </div>
      </div>
    </section>


  </div>

  <script src="app.js"></script>
</body>
</html>
